# docker-compose.yaml
version: "3.9"
services:
  jenkins:
    build:
        context: /app/data/storage/jenkins7
    container_name: jenkins7
    image: jenkins/jenkins:lts
    ports:
        - "8087:8080/tcp"
        - "50007:50000/tcp"
    privileged: true
    restart: on-failure
    user: root
    networks: 
        - net
    volumes:
        - /app/data/storage/jenkins7/jenkins7-data:/var/jenkins_home
    working_dir: /var/jenkins_home

networks: 
    net:
        driver: bridge

volumes:
    jenkins7-data:
        driver: local

